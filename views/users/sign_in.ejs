<!DOCTYPE html>
<html lang="en">
<%- include('head') %>
<body>
    <div class="container-fluid w-75">
        <h1 class="my-4"> Sign In </h1>
        <h3 class="text-danger" style="display: none;">._.XD</h3>
          <form action="/users/enter" method="post">
            <div class="mb-3">
              <label for="InputUsername" class="form-label">Username</label>
              <input type="text" class="form-control w-50" id="InputUsername" name="username" required>
          </div>
            <div class="mb-3">
              <label for="InputPassword" class="form-label">Password</label>
              <input type="password" class="form-control w-50" id="InputPassword" name="password" required>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
          <hr>
          <div><a href="/users/create" > Create Account </a></div>
    </div>
    <script>

      const alertHeader = document.querySelector('h3.text-danger');
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.has('loginfail') && urlParams.get('loginfail')==='true') {alertHeader.style.display = 'block'; alertHeader.textContent = 'Incorrect Username or Password';}
      if (urlParams.has('namefail') && urlParams.get('namefail')==='true') {alertHeader.style.display = 'block'; alertHeader.textContent = 'User does not exist';}
      if (urlParams.has('in-session-fail') && urlParams.get('in-session-fail')==='true') {alertHeader.style.display = 'block'; alertHeader.textContent = 'User already in session';}

    </script>
</body>
</html>